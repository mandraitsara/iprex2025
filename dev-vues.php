<?php/**------------------------------------------------------------------------PAGE - DEV - VuesCopyright (C) 2019 Intersedhttp://www.intersed.fr/------------------------------------------------------------------------@author    Cédric Bouillon@copyright Copyright (c) 2019 Intersed@version   1.0@since     2018------------------------------------------------------------------------ */require_once 'scripts/php/config.php';// Vérifie une authentification par login/mdp adminrequire_once 'scripts/php/check_admin.php';// On restreint la page aux Administrateurs Devéloppeursif (!$utilisateur->isDev()) {  header('Location: index.php'); }$h1     = 'Gestion des vues';$h1fa   = 'fa-fw fa-desktop';$vuesManager = new VueManager($cnx);include('includes/header.php');?><div class="container-fluid">    <table class="admin w-100" id="listeProfils">        <thead>        <tr>            <th>ID</th>            <th>Code</th>            <th>Nom</th>            <th>URL /</th>            <th>Couleur</th>            <th>Icone</th>            <th class="text-center">Ordre</th>            <th class="text-center t-actions">Liaison emballages</th>            <th class="text-center t-actions">Maintenance</th>        </tr>        </thead>        <tbody>        <?php        foreach ($vuesManager->getVuesListe([]) as $vue) { ?>            <tr>                <td><span class="badge badge-pill badge-warning badge-id"><?php echo $vue->getId(); ?></span></td>                <td><kbd><?php echo $vue->getCode(); ?></kbd></td>                <td><?php echo $vue->getNom(); ?></td>                <td><code><?php echo $vue->getUrl(); ?></code></td>                <td><span class="text-12 texte-fin badge-pill badge badge-<?php echo $vue->getBs_color(); ?>"><?php echo $vue->getBs_color(); ?></span></td>                <td><i class="fa-fw <?php echo $vue->getFa(); ?> mr-1 gris-5"></i> <code><?php echo $vue->getFa(); ?></code></td>                <td class="text-center"><?php echo $vue->getOrdre(); ?></td>                <td class="t-actions">                    <input type="checkbox" class="togglemaster emballage" data-size="small" data-toggle="toggle" data-on="Oui" data-off="Non" data-onstyle="info" data-offstyle="secondary" data-id-vue="<?php echo $vue->getId(); ?>" <?php                    echo (int)$vue->getConsommable() == 1 ? 'checked' : ''; ?>/>                </td>                <td class="t-actions">                    <input type="checkbox" class="togglemaster maintenance" data-size="small" data-toggle="toggle" data-on="Oui" data-off="Non" data-onstyle="danger" data-offstyle="success" data-id-vue="<?php echo $vue->getId(); ?>" <?php                    echo (int)$vue->getMaintenance() == 1 ? 'checked' : ''; ?>/>                </td>            </tr>        <?php } // FIN boucle sur les vues        ?>        </tbody>    </table>    <div class="alert alert-secondary text-14 gris-9">        <i class="fa fa-info-circle mr-2 fa-lg vmiddle"></i> Le mode maintenance rend la vue indisponible, exceptée pour les profils Développeurs. Le menu des vues n'est pas impacté.    </div></div><?phpinclude('includes/footer.php');