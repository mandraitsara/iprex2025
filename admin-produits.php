<?php/**------------------------------------------------------------------------PAGE - ADMIN - ProduitsCopyright (C) 2018 Intersedhttp://www.intersed.fr/------------------------------------------------------------------------@author    Cédric Bouillon@copyright Copyright (c) 2018 Intersed@version   1.0@since     2018------------------------------------------------------------------------ */require_once 'scripts/php/config.php';require_once 'scripts/php/check_admin.php';$h1     = 'Gestion des produits';$h1fa   = 'fa-fw fa-dolly';include('includes/header.php');$especesManager     = new ProduitEspecesManager($cnx);$categoriesManager  = new ProduitCategoriesManager($cnx);$produitsManager    = new ProduitManager($cnx);?><div class="container-fluid page-admin">    <div class="alert alert-danger d-xl-none  d-none d-md-block">        <i class="fa fa-exclamation-circle text-28 mr-1 v-middle"></i>Connectez-vous depuis un apareil permettant un affichage plus large pour afficher les filtres et les codes&hellip;    </div>    <form class="row d-none d-xl-flex" id="filtres">            <input type="hidden" name="mode" value="showListeProduits"/>            <input type="hidden" name="orderby_champ" value="t.`nom`"/>            <input type="hidden" name="orderby_sens" value="ASC"/>            <div class="col-10">                <div class="row">                    <div class="col-2">                        <div class="input-group mb-3">                            <div class="input-group-prepend">                                <span class="input-group-text"><i class="fa fa-barcode gris-9"></i></span>                            </div>                            <input type="text" class="form-control" placeholder="Libellé / code / EAN" name="filtre_nom" value="">                        </div>                    </div>                    <div class="col-2">                        <div class="input-group mb-3">                            <div class="input-group-prepend">                                <span class="input-group-text"><i class="fa fa-tag gris-9"></i></span>                            </div>                            <select class="selectpicker form-control show-tick" name="filtre_nom_court" title="Nom court" data-live-search="true" data-size="11" data-live-search-placeholder="Rechercher...">                                <option value="">Toutes les produits</option>                                <option data-divider="true"></option>								<?php								foreach ($produitsManager->getListeNomsCourts() as $nom_court) { ?>                                    <option value="<?php echo $nom_court;?>"><?php echo $nom_court;?></option>								<?php } // FIN boucle sur les espèces de produits (toi même) ?>                            </select>                        </div>                    </div>                    <div class="col-2">                        <div class="input-group mb-3">                            <div class="input-group-prepend">                                <span class="input-group-text"><i class="fa fa-horse gris-9"></i></span>                            </div>                            <select class="selectpicker form-control show-tick" name="filtre_espece" title="Espèce">                                <option value="0">Toutes les espèces</option>                                <option data-divider="true"></option>								<?php								foreach ($especesManager->getListeProduitEspeces() as $espece) { ?>                                    <option value="<?php echo $espece->getId();?>"><?php echo $espece->getNom();?></option>								<?php } // FIN boucle sur les espèces de produits ?>                            </select>                        </div>                    </div>                    <div class="col-2">                        <div class="input-group mb-3">                            <div class="input-group-prepend">                                <span class="input-group-text"><i class="fa fa-folder-open gris-9"></i></span>                            </div>                            <select class="selectpicker form-control show-tick" name="filtre_categorie" title="Catégorie">                                <option value="0">Toutes catégories</option>                                <option data-divider="true"></option>								<?php								foreach ($categoriesManager->getListeProduitCategories() as $categorie) { ?>                                    <option value="<?php echo $categorie->getId();?>"><?php echo $categorie->getNom();?></option>								<?php } // FIN boucle sur les catégories de produits ?>                            </select>                        </div>                    </div>                    <div class="col-2">                        <div class="input-group mb-3">                            <div class="input-group-prepend">                                <span class="input-group-text"><i class="fa fa-eye gris-9"></i></span>                            </div>                            <select class="selectpicker form-control show-tick" name="filtre_vues" title="Vue associée">                                <option value="">Pas de filtre</option>                                <option data-divider="true"></option>									<?php									$froidManager = new FroidManager($cnx);									$froidTypes = $froidManager->getFroidTypes();									foreach ($froidTypes as $froidtype) { ?>                                        <option value="<?php echo $froidtype['id']; ?>"><?php echo $froidtype['nom'];?></option>									<?php } // FIN boucle sur les froids									?>                                <option data-divider="true"></option>                                <option value="-1">Aucune vue</option>                            </select>                        </div>                    </div>                    <div class="col-2">                        <div class="input-group mb-3">                            <div class="input-group-prepend">                                <span class="input-group-text"><i class="fa fa-check-square gris-9"></i></span>                            </div>                            <select class="selectpicker form-control show-tick" name="filtre_actif" title="Activation">							    <option value="" selected>Actifs et inactifs</option>                                <option data-divider="true"></option>							    <option value="1">Actifs</option>							    <option value="-1">Inactifs</option>                            </select>                        </div>                    </div>                </div>            </div>            <div class="col-2 boutons-droite text-right">                <div class="row">                    <div class="col-8">                        <button type="button" class="btn btn-info form-control btnRecherche"><i class="fa fa-search mr-1 fa-fw"></i> Rechercher&hellip;</button>                    </div>                    <div class="col-4">                        <a href="<?php echo $_SERVER['PHP_SELF'];?>" class="btn btn-secondary form-control"><i class="fa fa-backspace mr-1 fa-fw"></i></a>                    </div>                </div>            </div>    </form>    <div class="row margin-bottom-50">        <div class="col-12 col-xl-10" id="listeProduits"><i class="fa fa-spin fa-spinner fa-2x"></i></div>        <div class="col-12 col-xl-2 text-right boutons-droite  d-none d-md-block">            <div class="alert alert-secondary">                <button type="button" class="btn btn-info form-control text-left pl-3" data-toggle="modal" data-target="#modalProduit"><i class="fa fa-plus-square fa-fw fa-lg mr-2"></i>Nouveau produit&hellip;</button>                <a href="<?php echo __CBO_ROOT_URL__; ?>admin-especes.php" class="btn btn-dark form-control text-left pl-3 mt-2"><i class="fa fa-horse fa-fw fa-lg mr-2"></i>Espèces&hellip;</a>                <a href="<?php echo __CBO_ROOT_URL__; ?>admin-categories.php" class="btn btn-dark form-control text-left pl-3 mt-2"><i class="fa fa-folder-open fa-fw fa-lg mr-2"></i>Catégories&hellip;</a>                <a href="<?php echo __CBO_ROOT_URL__; ?>admin-emb-pdt.php" class="btn btn-dark form-control text-left pl-3 mt-2"><i class="fa fa-grip-horizontal fa-fw fa-lg mr-2"></i>Emballages produit&hellip;</a>                <a href="<?php echo __CBO_ROOT_URL__; ?>admin-eans.php" class="btn btn-dark form-control text-left pl-3 mt-2"><i class="fa fa-barcode fa-fw fa-lg mr-2"></i>Liste des EAN&hellip;</a>                <button type="button" class="btn btn-secondary form-control text-left pl-3 mt-2 btnExportPdf"><i class="fa fa-file-pdf fa-fw fa-lg mr-2"></i>Exporter en PDF</button>                <a href="" target="_blank" download id="lienPdf"></a>            </div>        </div>    </div></div><?phpinclude('includes/modales/modal_produit.php');include('includes/footer.php');