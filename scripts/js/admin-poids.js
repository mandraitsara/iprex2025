/** ------------------------------------------------------------------------ JS - Admin poids Copyright (C) 2020 Intersed http://www.intersed.fr/ ------------------------------------------------------------------------ @author    Cédric Bouillon @copyright Copyright (c) 2020 Intersed @version   1.0 @since     2018 ------------------------------------------------------------------------ */$(document).ready(function() {    "use strict";    $('.btnSavePoids').off("click.btnSavePoids").on("click.btnSavePoids", function(e) {        e.preventDefault();        var id = parseInt($(this).parents('.form-group').data('id'));        if (isNaN(id)) { id = 0; }        if (id === 0) { alert('Identification ID impossible !');return false; }        var poids = parseFloat($(this).parents('.form-group').find('input[name=poids]').val().replace(',', '.'));        var nom = $(this).parents('.form-group').find('input[name=nom]').val().trim();        if (isNaN(poids)) { poids = 0; }        if (nom === undefined) { nom = ''; }        if (poids > 100) { alert('Poids maximum : 99.999 Kg !'); return false;}        if (poids < 0) { alert('Poids négatif !'); return false;}        if (poids === 0 || nom === '') { if (!confirm("Supprimer ce poids ?")) { return false;} }        $(this).find('i.fa').removeClass('fa-save').addClass('fa-spin fa-spinner');        $.fn.ajax({            'script_execute': 'fct_produits.php',            'arguments': 'mode=updPoidsPalette&id=' + id + '&poids=' + poids + '&nom=' + nom,            'done': function () {                $(location).attr('href',"admin-poids.php");            }        });    });    $('.btnSupprPoids').off("click.btnSupprPoids").on("click.btnSupprPoids", function(e) {        e.preventDefault();        var id = parseInt($(this).parents('.form-group').data('id'));        if (isNaN(id)) { id = 0; }        if (id === 0) { alert('Identification ID impossible !');return false; }        if (!confirm("Supprimer ce poids ?")) { return false;}        $(this).find('i.fa').removeClass('fa-save').addClass('fa-spin fa-spinner');        $.fn.ajax({            'script_execute': 'fct_produits.php',            'arguments': 'mode=updPoidsPalette&id=' + id + '&poids=0&nom=',            'done': function () {                $(location).attr('href',"admin-poids.php");            }        });    });}); // FIN ready