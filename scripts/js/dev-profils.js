/** ------------------------------------------------------------------------ JS - Profils Copyright (C) 2018 Intersed http://www.intersed.fr/ ------------------------------------------------------------------------ @author    Cédric Bouillon @copyright Copyright (c) 2018 Intersed @version   1.0 @since     2018 ------------------------------------------------------------------------ */$(document).ready(function() {    // Activation/Désacivation des droits de profils    $('#listeProfils .togglemaster').change(function() {        var valeur      =  $(this).prop('checked') === true ? 1 : 0;        var droit       = $(this).data('droit');        var id_profil   = parseInt($(this).parents('tr').find('.badge-id').text());        var objNiveau   = $(this).parents('tr').find('.badge-niveau');        // On met à jour en BDD (aJax)        $.fn.ajax({            'script_execute': 'fct_profils.php',            'arguments': 'mode=switchDroit&droit='+droit+'&valeur='+valeur+'&id_profil='+id_profil,            'callBack': function (niveau) {                if (parseInt(niveau) > 0) {                    // On met à jour le niveau                    objNiveau.text(niveau);                } else {                    alert('ERREUR !\r\nUne erreur est survenue...\r\nCode erreur : 01XRXI5B');                } // FIN test retour            } // FIN callback        }); // FIN aJax    }); // FIN Activation/Désacivation des droits de profils}); // FIN ready