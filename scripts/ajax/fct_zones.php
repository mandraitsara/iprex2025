<?php/*   _|_|_|  _|_|_|    _| _|        _|    _|  _|        CBO FrameWork _|        _|_|_|    _|        (c) 2018 Cédric Bouillon _|        _|    _|  _|   _|_|_|  _|_|_|    _|_|_|_|--------------------------------------------------------Contrôleur Ajax ZONES------------------------------------------------------*/// Initialisation du mode d'appel$mode       = isset($_REQUEST['mode']) ? $_REQUEST['mode'] : '';// Intégration de la configuration du FrameWork et des autorisationsrequire_once '../php/config.php';// Instanciation des Managers$zonesManager = new ZonesManager($cnx);$fonctionNom = 'mode'.ucfirst($mode);if (function_exists($fonctionNom)) {	$fonctionNom();}/* ------------------------------------MODE - Activation (switch)------------------------------------*/function modeActivation() {    global $zonesManager;    $id_zone = isset($_REQUEST['id_zone']) ? intval($_REQUEST['id_zone']) : 0;    if ($id_zone == 0) { exit; }    $valeur = isset($_REQUEST['actif']) ? intval($_REQUEST['actif']) : -1;    if ($valeur < 0) { exit; }    $zone = $zonesManager->getZone($id_zone);    if (!$zone instanceof Zone) { exit; }    $zone->setActif($valeur);    if (!$zonesManager->saveZone($zone)) { exit; }    echo '1';    exit;} // FIN mode/* ------------------------------------MODE - Supprimer (zone)------------------------------------*/function modeSupprZone() {	global $zonesManager;	$id_zone = isset($_REQUEST['id_zone']) ? intval($_REQUEST['id_zone']) : 0;	if ($id_zone == 0) { exit; }	$zone = $zonesManager->getZone($id_zone);	if (!$zone instanceof Zone) { exit; }	$zone->setSupprime(1);	if (!$zonesManager->saveZone($zone)) { exit; }	echo '1';	exit;} // FIN mode